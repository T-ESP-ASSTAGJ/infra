---
# Default variables for k8s_control_plane role
# Override these in group_vars/k8s_control_plane.yml

k8s_version: "1.29"
k8s_exact_version: "1.29.0-1.1"

container_runtime: "containerd"

k8s_pod_network_cidr: "10.244.0.0/16"
k8s_service_cidr: "10.96.0.0/12"
k8s_cluster_name: "kubernetes"
k8s_control_plane_endpoint: "{{ ansible_host }}:6443"

k8s_admin_user: "{{ ansible_user }}"
k8s_kubeconfig_path: "/home/{{ ansible_user }}/.kube/config"

disable_swap: true

k8s_required_modules:
  - overlay
  - br_netfilter

k8s_sysctl_settings:
  net.bridge.bridge-nf-call-iptables: 1
  net.bridge.bridge-nf-call-ip6tables: 1
  net.ipv4.ip_forward: 1

k8s_control_plane_firewall_rules: []

# CNI Configuration (Cilium)
cilium_version: "1.18.6"  # Check https://github.com/cilium/cilium/releases for latest
cilium_ipam_mode: "cluster-pool"  # Options: cluster-pool, kubernetes, azure, eni, gke
cilium_kube_proxy_replacement: true  # true = full replacement, false = disabled
cilium_hubble_enabled: false  # Set to true to enable Hubble observability
